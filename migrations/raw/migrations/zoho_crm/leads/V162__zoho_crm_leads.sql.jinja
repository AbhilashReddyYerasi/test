{% from 'macros/shared_v1.j2' import create_scd2_table_and_stream -%}

{% call create_scd2_table_and_stream(
    zoho_crm_schema,
    load_zoho_crm_schema,
    "leads",
    "zoho_crm_stage",
    "leads"
  ) -%}
    id number,
    owner number,
    company varchar,
    first_name varchar,
    last_name varchar,
    full_name varchar,
    email varchar,
    phone varchar,
    mobile varchar,
    website varchar,
    lead_source varchar,
    lead_status varchar,
    industry varchar,
    no_of_employees number,
    annual_revenue number,
    campaign_source varchar,
    email_opt_out boolean,
    created_by number,
    modified_by number,
    created_time timestamp_tz(9),
    modified_time timestamp_tz(9),
    last_activity_time timestamp_tz(9),
    description varchar,
    user_modified_time timestamp_tz(9),
    system_related_activity_time timestamp_tz(9),
    user_related_activity_time timestamp_tz(9),
    system_modified_time timestamp_tz(9),
    unsubscribed_mode varchar,
    unsubscribed_time timestamp_tz(9),
    gp_opportunity_size number,
    revenue_opportunity_size number,
    scope_of_opportunity varchar,
    latest_update_action varchar,
    funnel varchar,
    contact_name number,
    lead_company varchar,
    contact_title varchar,
    contact_email varchar,
    contact_phone varchar,
    strategies varchar,
    issues varchar,
    weaknesses varchar,
    strengths varchar,
    threats varchar,
    opportunities varchar,
    profile varchar,
    objectives varchar,
    decision_maker number,
    gatekeeper number,
    coach varchar,
    d_b_business_risk varchar,
    account number,
    request_atp boolean,
    atp_win_plan varchar,
    cross_border_eu boolean
    
{%- endcall %}
